import java.util.ArrayList;
import java.util.Scanner;

public class Deplacement {
	
	private Scanner input = new Scanner(System.in);
	
	public Deplacement() {}
	
	public void deplacerPersonnage(Personnage personnage, String s, Map m)
	{
		Coordonnees c = m.chercherPersonnage(personnage);
		char lettre = c.getLettre();
		
		if (s.equals("haut"))
		{
			m.remplacerSurLaMap(c.getX(), c.getY(),' ', null);
			m.remplacerSurLaMap(c.getX(), c.getY()-1, lettre, personnage);
		}
		
		else if (s.equals("droite"))
		{
			m.remplacerSurLaMap(c.getX(), c.getY(),' ', null);
			m.remplacerSurLaMap(c.getX()+1, c.getY(), lettre, personnage);
		}
		
		else if (s.equals("bas"))
		{
			m.remplacerSurLaMap(c.getX(), c.getY(),' ', null);
			m.remplacerSurLaMap(c.getX(), c.getY()+1, lettre, personnage);
		}
		
		else if (s.equals("gauche"))
		{
			m.remplacerSurLaMap(c.getX(), c.getY(),' ', null);
			m.remplacerSurLaMap(c.getX()-1, c.getY(), lettre, personnage);
		}
		
	}
	
	public void choixDeplacement(Personnage p, ArrayList<Coordonnees> autour) {
		
		boolean haut   = (autour.get(0).getLettre() == ' ' && autour.get(0).getPersonnage()==null);
		boolean gauche = (autour.get(1).getLettre() == ' ' && autour.get(1).getPersonnage()==null);
		boolean droite    = (autour.get(2).getLettre() == ' ' && autour.get(2).getPersonnage()==null);
		boolean bas = (autour.get(3).getLettre() == ' ' && autour.get(3).getPersonnage()==null);
		
		System.out.println("Vous pouvez aller:");
		if (haut) System.out.println("haut");
		if (droite) System.out.println("droite");
		if (bas) System.out.println("bas");
		if (gauche) System.out.println("gauche");
		
		@SuppressWarnings("resource")
		Scanner input = new Scanner(System.in);
		String action = input.next();
		
		while((action.equals("haut") && !(haut)) || (action.equals("bas") && !(bas)) || (action.equals("gauche") && !(gauche)) || (action.equals("droite") && !(droite))
			|| !(action.equals("haut") || action.equals("bas") || action.equals("gauche") || action.equals("droite")))
		{
			System.out.println("veuillez choisir une direction valide");
			action = input.nextLine();
		}
		
		this.deplacerPersonnage(p, action);
	}
}
